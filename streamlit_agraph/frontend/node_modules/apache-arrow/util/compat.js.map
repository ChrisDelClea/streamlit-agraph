{"version":3,"sources":["util/compat.ts"],"names":[],"mappings":"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","file":"compat.js","sourcesContent":["// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\nimport { ReadableInterop, ArrowJSONLike } from '../io/interfaces';\n\n/** @ignore */\ntype FSReadStream = import('fs').ReadStream;\n/** @ignore */\ntype FileHandle = import('fs').promises.FileHandle;\n\n/** @ignore */\nexport interface Subscription {\n    unsubscribe: () => void;\n}\n\n/** @ignore */\nexport interface Observer<T> {\n    closed?: boolean;\n    next: (value: T) => void;\n    error: (err: any) => void;\n    complete: () => void;\n}\n\n/** @ignore */\nexport interface Observable<T> {\n    subscribe: (observer: Observer<T>) => Subscription;\n}\n\n/** @ignore */\nconst [BigIntCtor, BigIntAvailable] = (() => {\n    const BigIntUnavailableError = () => { throw new Error('BigInt is not available in this environment'); };\n    function BigIntUnavailable() { throw BigIntUnavailableError(); }\n    BigIntUnavailable.asIntN = () => { throw BigIntUnavailableError(); };\n    BigIntUnavailable.asUintN = () => { throw BigIntUnavailableError(); };\n    return typeof BigInt !== 'undefined' ? [BigInt, true] : [<any> BigIntUnavailable, false];\n})() as [BigIntConstructor, boolean];\n\n/** @ignore */\nconst [BigInt64ArrayCtor, BigInt64ArrayAvailable] = (() => {\n    const BigInt64ArrayUnavailableError = () => { throw new Error('BigInt64Array is not available in this environment'); };\n    class BigInt64ArrayUnavailable {\n        static get BYTES_PER_ELEMENT() { return 8; }\n        static of() { throw BigInt64ArrayUnavailableError(); }\n        static from() { throw BigInt64ArrayUnavailableError(); }\n        constructor() { throw BigInt64ArrayUnavailableError(); }\n    }\n    return typeof BigInt64Array !== 'undefined' ? [BigInt64Array, true] : [<any> BigInt64ArrayUnavailable, false];\n})() as [BigInt64ArrayConstructor, boolean];\n\n/** @ignore */\nconst [BigUint64ArrayCtor, BigUint64ArrayAvailable] = (() => {\n    const BigUint64ArrayUnavailableError = () => { throw new Error('BigUint64Array is not available in this environment'); };\n    class BigUint64ArrayUnavailable {\n        static get BYTES_PER_ELEMENT() { return 8; }\n        static of() { throw BigUint64ArrayUnavailableError(); }\n        static from() { throw BigUint64ArrayUnavailableError(); }\n        constructor() { throw BigUint64ArrayUnavailableError(); }\n    }\n    return typeof BigUint64Array !== 'undefined' ? [BigUint64Array, true] : [<any> BigUint64ArrayUnavailable, false];\n})() as [BigUint64ArrayConstructor, boolean];\n\nexport { BigIntCtor as BigInt, BigIntAvailable };\nexport { BigInt64ArrayCtor as BigInt64Array, BigInt64ArrayAvailable };\nexport { BigUint64ArrayCtor as BigUint64Array, BigUint64ArrayAvailable };\n\n/** @ignore */ const isNumber = (x: any) => typeof x === 'number';\n/** @ignore */ const isBoolean = (x: any) => typeof x === 'boolean';\n/** @ignore */ const isFunction = (x: any) => typeof x === 'function';\n/** @ignore */\nexport const isObject = (x: any): x is Object => x != null && Object(x) === x;\n\n/** @ignore */\nexport const isPromise = <T = any>(x: any): x is PromiseLike<T> => {\n    return isObject(x) && isFunction(x.then);\n};\n\n/** @ignore */\nexport const isObservable = <T = any>(x: any): x is Observable<T> => {\n    return isObject(x) && isFunction(x.subscribe);\n};\n\n/** @ignore */\nexport const isIterable = <T = any>(x: any): x is Iterable<T> => {\n    return isObject(x) && isFunction(x[Symbol.iterator]);\n};\n\n/** @ignore */\nexport const isAsyncIterable = <T = any>(x: any): x is AsyncIterable<T> => {\n    return isObject(x) && isFunction(x[Symbol.asyncIterator]);\n};\n\n/** @ignore */\nexport const isArrowJSON = (x: any): x is ArrowJSONLike  => {\n    return isObject(x) && isObject(x['schema']);\n};\n\n/** @ignore */\nexport const isArrayLike = <T = any>(x: any): x is ArrayLike<T> => {\n    return isObject(x) && isNumber(x['length']);\n};\n\n/** @ignore */\nexport const isIteratorResult = <T = any>(x: any): x is IteratorResult<T> => {\n    return isObject(x) && ('done' in x) && ('value' in x);\n};\n\n/** @ignore */\nexport const isUnderlyingSink = <T = any>(x: any): x is UnderlyingSink<T> => {\n    return isObject(x) &&\n        isFunction(x['abort']) &&\n        isFunction(x['close']) &&\n        isFunction(x['start']) &&\n        isFunction(x['write']);\n};\n\n/** @ignore */\nexport const isFileHandle = (x: any): x is FileHandle => {\n    return isObject(x) && isFunction(x['stat']) && isNumber(x['fd']);\n};\n\n/** @ignore */\nexport const isFSReadStream = (x: any): x is FSReadStream => {\n    return isReadableNodeStream(x) && isNumber((<any> x)['bytesRead']);\n};\n\n/** @ignore */\nexport const isFetchResponse = (x: any): x is Response => {\n    return isObject(x) && isReadableDOMStream(x['body']);\n};\n\n/** @ignore */\nexport const isWritableDOMStream = <T = any>(x: any): x is WritableStream<T> => {\n    return isObject(x) &&\n        isFunction(x['abort']) &&\n        isFunction(x['getWriter']) &&\n        !(x instanceof ReadableInterop);\n};\n\n/** @ignore */\nexport const isReadableDOMStream = <T = any>(x: any): x is ReadableStream<T> => {\n    return isObject(x) &&\n        isFunction(x['cancel']) &&\n        isFunction(x['getReader']) &&\n        !(x instanceof ReadableInterop);\n};\n\n/** @ignore */\nexport const isWritableNodeStream = (x: any): x is NodeJS.WritableStream => {\n    return isObject(x) &&\n        isFunction(x['end']) &&\n        isFunction(x['write']) &&\n        isBoolean(x['writable']) &&\n        !(x instanceof ReadableInterop);\n};\n\n/** @ignore */\nexport const isReadableNodeStream = (x: any): x is NodeJS.ReadableStream => {\n    return isObject(x) &&\n        isFunction(x['read']) &&\n        isFunction(x['pipe']) &&\n        isBoolean(x['readable']) &&\n        !(x instanceof ReadableInterop);\n};\n"]}